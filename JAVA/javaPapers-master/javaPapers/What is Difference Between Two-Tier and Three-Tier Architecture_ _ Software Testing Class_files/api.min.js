/*! built on Tue Feb 16 2016 22:08:38 */function OptinMonsterApp(){this["public"]={},this.messages=new Array,this.init=function(a){for(key in a)this["public"][key]=a[key];this.setDefaults(),this.getProp("preview")?this.run():this.loadjQuery()},this.run=function(){this.setVisibilityDefaults(),this.loadjQuery()},this.setVisibilityDefaults=function(){var a=this,b=a.getProp("type");"slide"==b&&this.setProp("slide_open",!1),OptinMonsterAppOptins[this.getProp("optin_js")]={type:b,visible:!1}},this.loadjQuery=function(){var a=this,b=!1,c="undefined"==typeof om_load_jquery?!0:!1;if(c)if(void 0===window.jQuery){var d=document.createElement("script");d.src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js",d.onload=d.onreadystatechange=function(){var c=this.readyState;if(!c||"complete"==c||"loaded"==c)try{b||(a.loadjQueryHandler(!1),b=!0)}catch(d){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(d)}else if("1.11.3"!==window.jQuery.fn.jquery){this["public"].ejQuery=window.jQuery;var d=document.createElement("script");d.src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js",d.onload=d.onreadystatechange=function(){var c=this.readyState;if(!c||"complete"==c||"loaded"==c)try{b||(a.loadjQueryHandler(!0),b=!0)}catch(d){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(d)}else a["public"].$=a["public"].ejQuery=window.jQuery,a.loadApp();else a["public"].$=a["public"].ejQuery=window.jQuery,a.loadApp()},this.loadjQueryHandler=function(a){a?(this["public"].$=window.jQuery.noConflict(!0),this.loadApp()):(jQuery=window.jQuery.noConflict(!0),this["public"].$=this["public"].ejQuery=jQuery,"undefined"==typeof window.$&&(window.$=jQuery),this.loadApp())},this.loadApp=function(){var a=this;a["public"].$(document).ready(function(b){a.corsPatch(),a.runOptinMonster()})},this.runOptinMonster=function(){if(this.getProp("preview"))this.trigger("OptinMonsterInit"),this.fonts();else{this.registerVariables();var a=this.getProp("u").split("."),b=this.retrieveSuccess(this),c=this.retrieveError(this),d=a[0],e=a[1],f=this.getProp("api_optin")+d+"/"+e;this.trigger("OptinMonsterInit"),this.requestJSONP(f,b,c)}},this.retrieveSuccess=function(a){var b=a.getProp("$");return function(c){var d=b.map(c,function(a,b){return[a]}),e=[],f=!1;b.each(d,function(a,b){b.output.hasOwnProperty("id")&&(e[a]=b.output.id)});for(prop in d)"undefined"!=typeof d[prop]&&(d[prop].hasOwnProperty("original")&&(a.setProp("original_id",d[prop].output.id),a.setProp("original_optin",d[prop].output.optin),a.setProp("original_js",d[prop].output.optin_js)),d[prop].hasOwnProperty("primary")&&d[prop].hasOwnProperty("campaign_status")&&"paused"==d[prop].campaign_status&&a.setProp("campaign_status","paused"),d[prop].hasOwnProperty("campaign_status")&&"paused"==d[prop].campaign_status&&(d[prop].hasOwnProperty("original")||(f=d.splice(prop,1))));if(0!==d.length){a.getProp("original_id")||(a.setProp("original_id",d[0].output.id),a.setProp("original_optin",d[0].output.optin),a.setProp("original_js",d[0].output.optin_js));var g=a.pickRandomKey(d);for(key in d[g])d[g].hasOwnProperty(key)&&(a["public"][key]=d[g][key]);for(prop in a["public"].output)a["public"].output.hasOwnProperty(prop)&&(a["public"][prop]=a["public"].output[prop]);f&&d.push(f.shift());var h=!1;b.each(d,function(c,d){if(d.output.hasOwnProperty("optin")&&!h){var e=b("#om-"+d.output.optin+"-holder");e.length>0&&(h=!0,e.attr("id","om-"+a.getProp("optin")+"-holder"))}}),a.setProp("clones",e),"full-page-takeover"==a.getProp("type")&&a.isMobile()&&a.setProp("exit",0),a.canLoad()&&a.fonts(!0)}}},this.retrieveError=function(a){return function(b,c,d){a.trigger("OptinMonsterRetrieveError"),a.log(b,c,d)}},this.canLoad=function(){if(this.globalHideArg()&&(this.createCookie("om-global-cookie",1,this.getSiteProp("global_cookie")),this.createCookie("om-interaction-cookie",1,this.getSiteProp("global_interaction_cookie"))),!this.websiteMatch())return!1;if(this.getProp("page_slug").length>0&&!this.pageSlugMatch())return!1;if(this.getProp("referrer")&&!this.referrerMatch())return!1;if(this.getProp("rules").length>0&&!this.rulesMatch())return!1;if(this.getProp("campaign_status")&&!this.campaignIsActive())return!1;if("sidebar"!==this.getProp("type")&&"post"!==this.getProp("type")&&!this.getProp("preview")&&!this.getProp("click")){if(!this.cookiesEnabled()&&!this.getProp("test"))return!1;if(this.hasInteractionCookie())return!1;var a=this.getCookie("om-global-cookie"),b=this.getCookie("om-"+this.getProp("migrated_id")),c=this.getCookie("om-"+this.getProp("id")),d=this.getProp("second"),e=this.getProp("test"),f=this.getProp("type");if(this.isMobile()&&!this.getProp("mobile")&&"full-page-takeover"!==f)return!1;if(!this.isMobile()&&this.getProp("mobile"))return!1;if(d&&!e&&!this.getCookie("om-second-"+this.getProp("id")))return this.createCookie("om-second-"+this.getProp("id"),!0,this.getProp("cookie")),!1;if((a||b||c)&&!e&&"slide"!==f)return!1}return this.trigger("OptinMonsterCanLoad"),!0},this.inject=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=b("#om-"+c+"-holder");0!==d.length&&(a.replaceCustomVariables(),a.processScripts())},this.processScripts=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=b(b.trim(a.getProp("html"))),e=(b("#om-"+c+"-holder"),b(d).find("script")),f=[],g=!1;return 0===e.length?a.append():(b.each(e,function(a,b){return b.src&&0!==b.src.length?(f[a]=b.src,void(g=!0)):void 0}),g?void a.loadScripts(f).done(function(){b.each(e,function(a,c){if(c.src&&0!==c.src.length&&b.inArray(c.src,f)>-1){var e=c.src.replace(/.*?:\/\//g,"");d.find('script[src*="'+e+'"]').remove()}}),a.setProp("html",d),a.append()}):a.append())},this.loadScripts=function(a){var b=this.getProp("$"),c=b.map(a,function(a){return b.getScript(a)});return c.push(b.Deferred(function(a){b(a.resolve)})),b.when.apply(b,c)},this.append=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=b("#om-"+c+"-holder");a.trigger("OptinMonsterBeforeInject"),a.setVisibilityDefaults(),a.shortcodes(),d.append(a.getProp("html")),a.trigger("OptinMonsterAfterInject"),a.outbound();var e=a.getProp("parsing_shortcode"),f=!1;e||f?a.poll(function(){a.getProp("parsing_shortcode")||f||(f=!0,a.load())},300):a.load()},this.outbound=function(){var a=this,b=a.getProp("$");b(document).find(".manual-optin-trigger, .om-monster-link").each(function(a,c){var d=b(this),e=d.data("optin-slug");if(e){var f=e.replace("-","_");if(!OptinMonsterAppLinkSlugs.hasOwnProperty(f)&&window[f]){if(!window[f].getProp("click"))return;OptinMonsterAppLinkSlugs[f]=window[f]}}}),b(document).on("click",".manual-optin-trigger, .om-monster-link",function(a){a.preventDefault();var c=b(this),d=c.data("optin-slug");if(d){var e=d.replace("-","_");OptinMonsterAppLinkSlugs.hasOwnProperty(e)&&OptinMonsterAppLinkSlugs[e].open(!0)}})},this.shortcodes=function(){var a=this,b=this.getProp("original_js"),c=this.getProp("html"),d=this.getProp("$");if(window[b+"_shortcode"]){a.setProp("parsing_shortcode",!0);var e=d(".omapi-shortcode-helper"),f=!1;if(e.length>0){a.setProp("has_shortcodes",!0);var g=c.match(/[^[\]]+(?=])/g);g.length>0&&d.each(e,function(b,e){var h=d(e).text().replace("[","").replace("]","");h.length>0&&d.inArray(h,g)>-1&&(f=!0,a.setProp("html",c.replace(d(e).text(),d(e).next("div").html())),d(e).next("div").remove())})}if(f)a.setProp("parsing_shortcode",!1);else{var h={action:"shortcode",nonce:omapi_localized.nonce,html:c},i=this.shortcodeSuccess(a),j=this.shortcodeError(a);a.requestCORS(omapi_localized.ajax,h,i,j)}}},this.shortcodeSuccess=function(a){return function(b){if(b){var c=a.getProp("$"),d=a.getProp("optin"),e=c("#om-"+d+"-holder");e.html(b)}a.setProp("parsing_shortcode",!1)}},this.shortcodeError=function(a){return function(b,c,d){a.trigger("OptinMonsterShortcodeError"),a.log(b,c,d)}},this.pickRandomKey=function(a){return Math.floor(Math.random()*a.length)},this.fonts=function(a){var b=this,c=b.getProp("fonts"),a=a||!1,d=!1;if(c.length>0){var e=document.createElement("script");e.src="//ajax.googleapis.com/ajax/libs/webfont/1.5.6/webfont.js",e.onload=e.onreadystatechange=function(){var c=this.readyState;if(!c||"complete"==c||"loaded"==c)try{d||(WebFont.load({google:{families:[b.getProp("fonts")]}}),b.trigger("OptinMonsterFontsLoaded"),a?b.inject():b.load(),d=!0)}catch(e){}},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e)}else a?b.inject():b.load()},this.load=function(){var a=this;a.appendHolder()&&(a.sanitize(),a.iehotfix(),a.open())},this.sanitize=function(){var a=this,b=a.getProp("$"),c=b("#om-"+a.getProp("optin")),d=b("#om-"+a.getProp("optin")).find(":submit"),e=d.attr("name"),f=d.attr("id");"submit"==e&&c.find(":submit").attr("name","submit-om"),"submit"==f&&c.find(":submit").attr("id","submit-om")},this.iehotfix=function(){this.isIE()&&(this.loadPlaceholder(),this.doPlaceholder())},this.open=function(a){var b=this,c=b.getProp("exit"),d=b.getProp("click"),e=b.getProp("optin_js"),f="slide"==b.getProp("type")?0:b.getProp("delay"),g=b.getProp("scroll"),h=(b.getProp("$"),!1),a=a||!1;OptinMonsterAppOptins.hasOwnProperty(e)&&!0===OptinMonsterAppOptins[e].visible||((a||c)&&(f=0),(!d||a)&&setTimeout(function(){b.getProp("custom")&&b.prepareCustomOptin(),b.trigger("OptinMonsterLoaded"),!c||d||a?g?b.poll(function(){if(!h){var a=b.getScrollPercentage();a>=g&&(b.normalOpen(),h=!0)}},100):b.normalOpen():b.exitOpen()},f||0))},this.exitOpen=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin_js"),d=!1;b(document).on("mouseleave",function(b){b.clientY>(a.getProp("exit_sensitivity")||20)||a.getCookie("om-"+a.getProp("id"))||a.getCookie("om-global-cookie")||a.getProp("om-interaction-cookie")||OptinMonsterAppOptins.hasOwnProperty(c)&&!0===OptinMonsterAppOptins[c].visible||d||(d=!0,a.show(!0))})},this.normalOpen=function(){this.show()},this.show=function(a){var b=this,c=b.getProp("$"),d=b.getProp("id"),e=b.getProp("optin"),f=b.getProp("optin_js"),g=b.getProp("type"),h=b.getProp("theme"),i=b.getProp("preview"),a=a||!1;if(!(OptinMonsterAppOptins.hasOwnProperty(f)&&!0===OptinMonsterAppOptins[f].visible||b.getCookie("om-global-cookie")&&!b.getProp("click")&&!i&&"sidebar"!==g&&"post"!==g||b.getCookie("om-interaction-cookie")&&!b.getProp("click")&&!i&&"sidebar"!==g&&"post"!==g)){if("full-page-takeover"==g&&b.isMobile()){var j=!1;if(c.each(OptinMonsterAppOptins,function(a,b){b.hasOwnProperty("type")&&"mobile"==b.type&&(j=!0)}),j)return}if(b.trigger("OptinMonsterBeforeShow"),b.poweredBy(),a){if(b.isPopup(g))b.hasVisiblePopup()||(c("#om-"+e).show().css("display","block"),c("#om-"+e+" #om-"+g+"-"+h+"-optin").show().css("display","block"),b.positionOptin(),OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0,b.trigger("OptinMonsterOnShow"),b.socialServices());else if(("footer"==g||"slide"==g)&&!b.getCookie("om-"+d+"-closed")){var k=c("#om-"+e),l=k.outerHeight(),m=b.getProp("position")?b.getProp("position"):"bottom",n={};l instanceof jQuery&&(l=k.outerHeight(!1)),c("#om-"+e+" #om-"+g+"-"+h+"-optin").show().css("display","block");var o=i&&"bottom"==m?78:0;n[m]=parseInt(o),k.css(m,"-"+l+"px").show().animate(n,300,function(){if(OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0,"slide"==g&&(b.slideHandlers(),setTimeout(function(){b.showSlide()},0)),b.trigger("OptinMonsterOnShow"),b.socialServices(),"top"==m){var a=k.outerHeight();a instanceof jQuery&&(a=k.outerHeight(!1)),c("body").animate({paddingTop:a},300)}})}}else if(b.isPopup(g))b.hasVisiblePopup()||c("#om-"+e).fadeIn(300,function(){"mobile"==g&&(i||b.fixMobileScaling()),c(this).find("#om-"+g+"-"+h+"-optin").show().css("display","block"),b.positionOptin(),OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0,b.trigger("OptinMonsterOnShow"),b.socialServices()});else if("footer"==g||"slide"==g){if(!b.getCookie("om-"+d+"-closed")||i){var k=c("#om-"+e),l=k.outerHeight(),m=b.getProp("position")?b.getProp("position"):"bottom",n={};l instanceof jQuery&&(l=k.outerHeight(!1)),c("#om-"+e+" #om-"+g+"-"+h+"-optin").show().css("display","block");var o=i&&"bottom"==m?78:0;n[m]=parseInt(o),k.css(m,"-"+l+"px").show().animate(n,300,function(){if(OptinMonsterAppOptins[b.getProp("optin_js")].visible=!0,"slide"==g&&(b.slideHandlers(),setTimeout(function(){b.showSlide()},b.getProp("delay")||0)),b.trigger("OptinMonsterOnShow"),b.socialServices(),"top"==m){var a=k.outerHeight();a instanceof jQuery&&(a=k.outerHeight(!1)),c("body").animate({paddingTop:a},300)}})}}else b.trigger("OptinMonsterOnShow"),b.socialServices();b.customize(),b.enter(),b.submit(),b.close(),setTimeout(function(){b.track()},1e3)}},this.poweredBy=function(){var a=this,b=this.getProp("type"),c=this.getProp("optin"),d=this.getProp("$"),e=this.getSiteProp("affiliate_link_position")||"under",f=d("#om-"+c+" .optin-monster-saas-powered-by"),g=a.getProp("preview");if(a.isPopup(b))if("under"==e)f.appendTo(d("#om-"+c+" > div")).css({position:"absolute",bottom:"-28px",width:"100%"});else{var h=g?98:20;f.appendTo(d("#om-"+c)).css({position:"absolute",left:20,bottom:h})}},this.fixMobileScaling=function(){var a=(this.getProp("type"),this.getProp("optin"),this.getProp("$")),b=a('meta[name="viewport"]');b.length>0||(a("head").append('<meta id="optin-monster-saas-viewport" name="viewport" content="width=device-width, initial-scale=1.0">'),a("html, body").css("overflow","hidden"))},this.positionOptin=function(){var a=this,b=a.getProp("$"),c=(a.getProp("id"),a.getProp("optin")),d=a.getProp("type"),e=(a.getProp("theme"),a.getProp("preview")),f=b("#om-"+c+" > div"),g=f.width(),h=f.height(),i=e?b(window).height()-78:b(window).height(),j=b(window).width(),k=(i-h)/2,l=a.getProp("powered_by"),m=a.getSiteProp("affiliate_link_position")||"under",n=b("#om-"+c+" .optin-monster-saas-powered-by");a.isPopup(d)&&(h>=i?(b("#om-"+c).css({overflow:"scroll"}),b(f,"#om-"+c+" .optin-monster-saas-success-overlay").css({top:20,left:(j-g)/2,position:"absolute",marginBottom:e?98:20}),l&&("under"==m?b(f,"#om-"+c+" .optin-monster-saas-success-overlay").css({marginBottom:n.height()+30}):n.hide())):(b("#om-"+c).css({overflow:"auto"}),b(f,"#om-"+c+" .optin-monster-saas-success-overlay").css({top:k,left:(j-g)/2,marginBottom:0}),l&&("under"==m?b(f,"#om-"+c+" .optin-monster-saas-success-overlay").css({marginBottom:0}):n.show())),b(window).on("resize.omOptin"+a.getProp("optin_js"),function(){clearTimeout(b.data(this,"omOptinTimer")),b.data(this,"omOptinTimer",setTimeout(function(){a.positionOptin()},50))}),a.trigger("OptinMonsterPositionOptin"))},this.slideHandlers=function(){var a=this,b=a.getProp("$"),c=(a.getProp("id"),a.getProp("optin")),d=a.getProp("type"),e=a.getProp("theme"),f=a.getProp("preview"),g="#om-"+c+" .om-slide-close-content, #om-"+c+" .om-close",h="#om-"+c+" .om-slide-open-content";f||(g=g+", #om-"+c+" #om-slide-"+e+"-optin-title-open",h=h+", #om-"+c+" #om-slide-"+e+"-optin-title-closed"),b(document).on("click.closeOptin",g,function(f){f.target===this&&(f.preventDefault(),a.trigger("OptinMonsterBeforeClose"),"canvas"==e?b("#om-"+c).hide():b("#om-"+c+" #om-"+d+"-"+e+"-optin").removeClass("om-slide-open").addClass("om-slide-closed"),b("#om-"+c).find(".optin-monster-saas-success-overlay").remove(),a.cleanup())}),b(document).on("click.openOptin",h,function(f){f.target===this&&(f.preventDefault(),a.trigger("OptinMonsterBeforeShow"),b("#om-"+c+" #om-"+d+"-"+e+"-optin").removeClass("om-slide-closed").addClass("om-slide-open"),a.setProp("slide_open",!0),a.trigger("OptinMonsterOnShow"))})},this.showSlide=function(){var a=this,b=a.getProp("$"),c=a.getProp("id"),d=a.getProp("optin"),e=a.getProp("type"),f=a.getProp("theme");(!a.getCookie("om-"+c)&&!a.getProp("slide_open")||a.getProp("preview"))&&(b("#om-"+d+" #om-"+e+"-"+f+"-optin").removeClass("om-slide-closed").addClass("om-slide-open"),a.setProp("slide_open",!0))},this.customize=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin");b(document).on("click.omCustomConversion","#om-"+c+" .om-trigger-conversion",function(b){a.track(!0)}),a.trigger("OptinMonsterOnCustomize")},this.enter=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("type"),e=a.getProp("theme");("lightbox"===d||"full-page-takeover"===d)&&(a.getProp("preview")||b(document).on("keypress.omEnter",function(a){13===a.which&&b("#om-"+c+" #om-"+d+"-"+e+"-optin-submit").trigger("click.doOptin")}))},this.submit=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("type"),e=a.getProp("theme"),f=a.getProp("custom"),g=a.getProp("submitted")||!1;if(!a.getProp("preview")&&!g)if(f){var h=!1;b(document).on("submit.doCustomOptin",".om-custom-html-form form",function(e){if(!h)return h=!0,a.trigger("OptinMonsterBeforeOptin"),a.getProp("has_shortcodes")?(a.track(!0),!0):(a.optin(e.target,!0),e.preventDefault(),!1);if(a.isPopup(d))b("#om-"+c).fadeOut(300,a.onClose(a));else if("footer"==d||"slide"==d){var f=a.getProp("position")?a.getProp("position"):"bottom",g={},i=b("#om-"+c).outerHeight();i instanceof jQuery&&(i=b("#om-"+c).outerHeight(!1)),g[f]="-"+i+"px",b("#om-"+c).animate(g,300,a.onClose(a)),"top"==a.getProp("position")&&b("body").animate({paddingTop:0},300)}})}else a.setProp("om_submitting",!1),b(document).on("click.doOptin","#om-"+c+" #om-"+d+"-"+e+"-optin-submit",function(b){a.getProp("om_submitting")||(a.setProp("om_submitting",!0),b.preventDefault(),a.trigger("OptinMonsterBeforeOptin"),a.optin(b.target))})},this.close=function(a){var b=this,c=b.getProp("$"),d=b.getProp("optin"),e=b.getProp("type"),a=a||!1;if(!b.getProp("preview"))if(a){if(b.isPopup(e))c("#om-"+d).fadeOut(300,b.onClose);else if("footer"==e||"slide"==e){var f=b.getProp("position")?b.getProp("position"):"bottom",g={},h=c("#om-"+d).outerHeight();h instanceof jQuery&&(h=c("#om-"+d).outerHeight(!1)),g[f]="-"+h+"px",c("#om-"+d).animate(g,300,b.onClose),"top"==b.getProp("position")&&c("body").animate({paddingTop:0},300)}}else c(document).on("click.closeOptin","#om-"+d+" .om-close, #om-"+d+".optin-monster-saas-overlay, #om-"+d+" .om-trigger-close",function(a){if(!(a.target!==this||"mobile"==e&&c(a.target).hasClass("optin-monster-saas-overlay")||"full-page-takover"==e&&c(a.target).hasClass("optin-monster-saas-overlay")))if(a.preventDefault(),b.trigger("OptinMonsterBeforeClose"),b.isPopup(e))c("#om-"+d).fadeOut(300,b.onClose(b));else if("footer"==e){var f=b.getProp("position")?b.getProp("position"):"bottom",g={},h=c("#om-"+d).outerHeight();h instanceof jQuery&&(h=c("#om-"+d).outerHeight(!1)),g[f]="-"+h+"px",c("#om-"+d).animate(g,300,b.onClose(b)),"top"==b.getProp("position")&&c("body").animate({paddingTop:0},300)}})},this.onClose=function(a){return function(){var b=a.getProp("$"),c=a.getProp("type");if(a.cleanup(),"mobile"==c){var b=a.getProp("$"),d=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=a.getProp("dw"),f=Math.round(d/e*100)/100;b("#optin-monster-saas-viewport").length>0&&(b("#optin-monster-saas-viewport").attr("content","width=device-width, initial-scale="+f+", minimum-scale="+f+", maximum-scale="+f),b("html, body").css("overflow","auto"),setTimeout(function(){b("#optin-monster-saas-viewport").attr("content","width=device-width, maximum-scale=10.0")},0)),b("#om-"+a.getProp("optin")+"-overlay").hide()}a.isPopup(c)&&b(window).off("resize.omOptin"+a.getProp("optin_js")),a.trigger("OptinMonsterOnClose")}},this.cleanup=function(a){var b=this,c=b.getProp("$"),d=b.getProp("id"),e=b.getSiteProp("global_cookie"),f=b.getSiteProp("global_interaction_cookie"),g=a||!1;if(OptinMonsterAppOptins[b.getProp("optin_js")].visible=!1,c(document).off("keypress.omEnter"),g&&b.setProp("submitted",!0),g){var h=b.getProp(b.getProp("cookie_success")?"cookie_success":"cookie");b.createCookie("om-"+d,!0,h)}else{if(0===b.getProp("cookie"))return;b.createCookie("om-"+d,!0,b.getProp("cookie"))}b.getProp("migrated_id")&&b.createCookie("om-"+b.getProp("migrated_id"),!0,b.getProp("cookie")),b.getProp("clones")&&c.each(b.getProp("clones"),function(a,c){if(0!==c.length){var d=b.getProp(b.getProp("cookie_success")&&g?"cookie_success":"cookie");0!==d&&b.createCookie("om-"+c,!0,d)}}),0!=e&&g&&b.createCookie("om-global-cookie",!0,e),0==f||g||b.createCookie("om-interaction-cookie",!0,f),(g&&"slide"==b.getProp("type")||!g&&"slide"==b.getProp("type")&&"canvas"==b.getProp("theme"))&&b.createCookie("om-"+d+"-closed",!0,b.getProp("cookie")),b.trigger("OptinMonsterCleanup")},this.track=function(a){if(!this.getProp("preview")){var b=this,c=b.getProp("ga_uaid"),a=a||!1;if(!c)return void console.log("[OptinMonster] No analytics profile has been set for this campaign. Please set a profile to track analytics.");var d=a?"tracked":"impression_tracked";b.getProp(d)||(b.trackGoogleAnalytics(c,a),b.trigger("OptinMonsterTracked"))}},this.trackGoogleAnalytics=function(a,b){var c=this,d=c.getProp("$"),e=c.getProp("optin"),f=b?"conversion":"impression",g=c.getProp("campaign")||c.getProp("optin"),g=g.replace(/\s\s+/g," "),h=e.replace("-",""),i=!1,j=!1;if("undefined"!=typeof window.ga?j=window.ga:"undefined"!=typeof window.gaTracker?j=window.gaTracker:"undefined"!=typeof window.__gaTracker?j=window.__gaTracker:"undefined"!=typeof window.__omGaTracker&&(j=window.__omGaTracker),j){if(c.setProp("ga_object",j),c.getProp("ga_custom_id")&&(a=c.getProp("ga_custom_id")),j.hasOwnProperty("getAll")){var k=j.getAll();d.each(k,function(b,c){var d=c.get("trackingId");return d==a?(i=c,!1):void 0})}if(i||(j("create",a,"auto","omTracker"+h),j.hasOwnProperty("getByName")&&(i=j.getByName("omTracker"+h))),!i)return void c.log("OptinMonster could not record analytics for "+g+" because no analytics tracker could be created or retrieved. Contact support for more details.");i.send("event",g,f,c.getProp("id").toString(),{nonInteraction:!0,_r:0}),"impression"==f?(c.addMessage("Impression tracked to "+c.getProp("ga_uaid")),c.trigger("OptinMonsterTrackedImpression"),c.setProp("impression_tracked",!0)):(c.addMessage("Conversion tracked to "+c.getProp("ga_uaid")),c.trigger("OptinMonsterTrackedConversion"),c.setProp("tracked",!0),c.cleanup(!0))}},this.optin=function(a,b){var c=this,d=c.getProp("$"),e=c.getProp("optin"),b=b||!1;if(c.getProp("preview"))return void c.setProp("om_submitting",!1);c.setProp("convert_target",a),c.loading(a);var f={optin_id:c.getProp("id"),post_id:c.getProp("post_id"),referrer:window.location.href,user_agent:navigator.userAgent,previous:document.referrer,email:d("#om-"+e+" #om-"+c.getProp("type")+"-"+c.getProp("theme")+"-optin-email").val(),name:d("#om-"+e+" #om-"+c.getProp("type")+"-"+c.getProp("theme")+"-optin-name").val()},g=c.getProp("api_convert")+c.getProp("id");success=!1,j=!1,f.email=d.trim(f.email),f.name=d.trim(f.name);var h=d("#om-"+e).find(":input"),i={};if(d.each(h,function(a,b){var c=d(this).attr("name"),e=d(this).attr("type");if(c)switch(e){case"checkbox":case"radio":var f=d(this).is(":checked");if(!f)return;if(i[c])if(d.isPlainObject(i[c]))i[c][a]=d.trim(d(this).val());else{var g=i[c];i[c]={},i[c][a-1]=g,i[c][a]=d.trim(d(this).val())}else i[c]=d.trim(d(this).val());break;default:i[c]=d.trim(d(this).val())}}),d.isEmptyObject(i)||(f.fields=i),b)success=c.optinCustomSuccess(c,a);else{var j=c.verify();if(j)return c.error(a,j);success=c.optinSuccess(c,a),j=c.optinError(c,a)}c.addMessage("Lead name: "+f.name),c.addMessage("Lead email: "+f.email),c.setProp("optin_data",f),c.trigger("OptinMonsterPreOptin"),c.requestCORS(g,c.getProp("optin_data"),success,j)},this.error=function(a,b){{var c=this,d=c.getProp("$"),e=d(a);c.getProp("optin")}c.setProp("om_submitting",!1),c.removeLoading(a),e.parent().append('<p class="optin-monster-saas-error" style="font-family:Georgia;font-size:13px;font-style:italic;color:#ff0000;margin:10px 0;text-align:center;line-height:18px;">'+b+"</p>"),c.addMessage("Optin error: "+b),c.trigger("OptinMonsterOnError")},this.loading=function(a){var b=this,c=b.getProp("$"),d=c(a),e=d.position(),f=parseInt(d.css("marginTop")),g=d.outerWidth(),h=d.outerHeight();g instanceof jQuery&&(g=d.outerWidth(!1)),h instanceof jQuery&&(h=d.outerHeight(!1)),c("#om-"+b.getProp("optin")).find(".optin-monster-saas-error").remove(),d.after('<span class="optin-monster-saas-loading"></span>').css("opacity",".25"),c("#om-"+b.getProp("optin")).find(".optin-monster-saas-loading").css({width:g,height:h,top:e.top+f,left:e.left,background:"url("+b.getProp("preloader")+") no-repeat 50% 50%",position:"absolute",zIndex:84736365452,backgroundSize:"20px"})},this.verify=function(){var a=this,b=a.getProp("$"),c=a.getProp("optin"),d=a.getProp("type"),e=a.getProp("theme"),f=b("#om-"+c+" #om-"+d+"-"+e+"-optin-name"),g=b("#om-"+c+" #om-"+d+"-"+e+"-optin-email"),h=b("#om-"+d+"-"+e+"-optin").find('input[name="email"]').val(),i=b("#om-"+d+"-"+e+"-optin").find('input[name="website"]').val(),j=!1;if(f&&f.length>0){var k=b.trim(f.val());0==k.length&&(j=a.getProp("name_error")||a.getProp("error"))}if(g&&g.length>0){var l=b.trim(g.val());0!=l.length&&a.isValidEmail(g.val())||(j=a.getProp("email_error")||a.getProp("error"))}return(h&&h.length>0||i&&i.length>0)&&(j=a.getProp("bot_error")||a.getProp("error")),j},this.removeLoading=function(a){var b=this,c=b.getProp("$"),d=c(a);d.css("opacity","1"),c("#om-"+b.getProp("optin")).find(".optin-monster-saas-loading").remove()},this.optinJSON=function(){},this.optinSuccess=function(a,b){{var c=a.getProp("$");a.getProp("optin"),a.getProp("type"),a.getProp("theme")}return function(d){if(!d||c.isEmptyObject(d))return a.error(b,a.getProp("error"));if(d&&d.error)return a.error(b,d.error);if(a.setProp("om_submitting",!1),a.trigger("OptinMonsterOptinSuccess"),a.getProp("ga_id")?a.track(!0):a.cleanup(!0),a.getProp("redirect")){var e=a.getProp("redirect"),f=a.getProp("redirect_pass");if(e=e.replace(new RegExp("&amp;","g"),"&"),a.addMessage("Redirect URL: "+e),a.addMessage("Pass lead data: "+f),f&&d&&d.success){var g=a.getProp("optin_data");delete g.referrer,delete g.user_agent,delete g.previous,c.each(g,function(b,c){"undefined"!=typeof c&&c.length>0&&(e=a.updateQueryString(e,"om_"+b,c),a.addMessage("Query arg added: om_"+b+"="+c))})}a.trigger("OptinMonsterOnRedirect"),setTimeout(function(){window.location.href=e},500)}else a.getProp("success")?a.successMessage(b):(a.close(!0),a.removeLoading(b)),a.trigger("OptinMonsterOptinSuccessClose")}},this.updateQueryString=function(a,b,c){var d=new RegExp("([?|&])"+b+"=.*?(&|#|$)","i");if(a.match(d))return a.replace(d,"$1"+b+"="+c+"$2");var e="",f=-1!==a.indexOf("?")?"&":"?";return-1!==a.indexOf("#")&&(e=a.replace(/.*#/,"#"),a=a.replace(/#.*/,"")),a+f+b+"="+c+e},this.successMessage=function(a){var b=this,c=b.getProp("$"),d=b.getProp("optin"),e=b.getProp("type"),f=b.getProp("theme"),g=c("full-page-takeover"==e?"#om-"+d:"#om-"+d+" #om-"+e+"-"+f+"-optin"),h=g.position(),i=g.outerWidth(),j=g.outerHeight(),k="sidebar"==e||"post"==e?7271832:0xe8da821f56;i instanceof jQuery&&(i=g.outerWidth(!1)),j instanceof jQuery&&(j=g.outerHeight(!1)),"slide"!==e&&c("#om-"+d).find(".om-close").remove();var l="sidebar"==e||"post"==e?'<div class="optin-monster-saas-success-overlay" style="display:none;"></div>':'<div class="optin-monster-saas-success-overlay" style="display:none;"><a href="#" class="om-close om-success-close">&times;</a></div>',m=b.getProp("success");"full-page-takeover"==e?g.append(l):g.after(l),c("#om-"+d).find(".optin-monster-saas-success-overlay").css({width:i,height:j,top:h.top,left:h.left,background:"#fff",position:"absolute",zIndex:k,padding:"0px 20px",opacity:0,display:"block"}).append('<div class="optin-monster-saas-success-message">'+m+"</div>"),c("#om-"+d).find(".optin-monster-saas-success-message").css({"margin-top":(j-c("#om-"+d).find(".optin-monster-saas-success-message").height())/2}),c("#om-"+d).find(".optin-monster-saas-success-overlay").fadeTo(300,1,function(){b.removeLoading(a),b.socialServices()}),b.poll(function(){c(window).resize(function(){var a=c("#om-"+e+"-"+f+"-optin"),b=a.outerWidth(),g=a.outerHeight();b instanceof jQuery&&(b=a.outerWidth(!1)),g instanceof jQuery&&(g=a.outerHeight(!1)),c("#om-"+d).find(".optin-monster-saas-success-overlay").css({width:b,height:g,top:a.position().top,left:a.position().left}),c("#om-"+d).find(".optin-monster-saas-success-message").css({"margin-top":(g-c(".optin-monster-saas-success-message").height())/2})})},300)},this.optinCustomSuccess=function(a,b){var c=a.getProp("$");return function(d){a.trigger("OptinMonsterOptinSuccess"),a.getProp("ga_id")&&a.track(!0),c(b).submit()}},this.optinError=function(a,b){a.getProp("$"),a.getProp("optin"),a.getProp("type"),a.getProp("theme");return function(c,d,e){return a.trigger("OptinMonsterOptinError"),a.setProp("om_submitting",!1),a.error(b,a.getProp("ajax_error")+c.responseJSON.error)}},this.requestCORS=function(a,b,c,d){var e=this,f=e.getProp("$"),b=b||!1,g={url:a,cache:!1,type:"POST",timeout:3e4,data:b},c=c||!1,d=d||!1;c&&(g.success=c),d&&(g.error=d),f.ajax(g)},this.requestJSONP=function(a,b,c){var d=this,e=d.getProp("$"),f={url:a,cache:!1,type:"GET",dataType:"json",timeout:3e4,beforeSend:function(a,b){var c=b.url.split("?");return b.url=c[0],b},crossDomain:!0},b=b||!1,c=c||!1;b&&(f.success=b),c&&(f.error=c),e.ajax(f)},this.appendHolder=function(){var a=this.getProp("$"),b=this.getProp("type"),c=!1;if(this.isPopup(b))c={position:"fixed","z-index":"7371832",top:"0",left:"0",zoom:"1",width:"100%",height:"100%",margin:"0",padding:"0"};else if("footer"==b){c={position:"fixed","z-index":"7371832",left:"0",zoom:"1",width:"100%",margin:"0",padding:"0"};var d=this.getProp("position");"undefined"!=typeof d&&0!=d?c[d]=0:c.bottom=0}return c&&a("#om-"+this.getProp("optin")).css(c).appendTo("body"),this.trigger("OptinMonsterAppendHolder"),!0},this.prepareCustomOptin=function(){var a=this,b=a.getProp("optin"),c=a.getProp("$"),d=c("#om-"+b+" input[data-om-render=label]");d.length>0&&(a.loadElementChange(),d.each(function(){c.fn.changeElementType&&c(this).changeElementType("label")}),c("#om-"+b+" label[data-om-render=label]").each(function(){c(this).text(c(this).attr("value")).removeAttr("value type")})),a.trigger("OptinMonsterCustomDone")},this.poll=function(){var a=0;return function(b,c){clearInterval(a),a=setInterval(b,c)}}(),this.isValidEmail=function(a){return new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(a)},this.createCookie=function(a,b,c){if(!this.getProp("test")){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"}},this.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},this.removeCookie=function(a){this.createCookie(a,"",-1)},this.log=function(a){"object"==typeof console?console.log(a):""},this.trigger=function(a){var b=this;this.addMessage("Event fired: "+a,!0),b["public"].ejQuery(document).trigger(a,[b["public"],b]),this.getProp("debug")&&this.displayDebugLog()},this.loadElementChange=function(){!function(a){a.fn.changeElementType=function(b){var c={};a.each(this[0].attributes,function(a,b){c[b.nodeName]=b.nodeValue}),this.replaceWith(function(){return a("<"+b+"/>",c).append(a(this).contents())})}}(this.getProp("$"));

},this.cookiesEnabled=function(){var a=navigator.cookieEnabled?!0:!1;return"undefined"!=typeof navigator.cookieEnabled||a||(document.cookie="testcookie",a=-1!=document.cookie.indexOf("testcookie")?!0:!1),a},this.hasInteractionCookie=function(){var a=this.getCookie("om-interaction-cookie");return a},this.getProp=function(a){return this["public"].hasOwnProperty(a)?this["public"][a]:!1},this.getSiteProp=function(a){{var b=this.getProp("$");this.getProp("site")}return b.isArray(this["public"].site)?this["public"].site[0].settings&&this["public"].site[0].settings.hasOwnProperty(a)?this["public"].site[0].settings[a]:!1:this["public"].site.settings&&this["public"].site.settings.hasOwnProperty(a)?this["public"].site.settings[a]:!1},this.setProp=function(a,b){this["public"][a]=b},this.isMobile=function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a},this.hasVisiblePopup=function(){var a=[],b=this.getProp("$"),c=0;for(var d in OptinMonsterAppOptins)OptinMonsterAppOptins[d].hasOwnProperty("visible")&&!0===OptinMonsterAppOptins[d].visible&&(a[c]=OptinMonsterAppOptins[d].type,c++);return b.inArray("lightbox",a)>-1||b.inArray("canvas",a)>-1||b.inArray("full-page-takeover",a)>-1||b.inArray("mobile",a)>-1||!1},this.loadPlaceholder=function(){var a=this,b=a.getProp("$");!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof module&&module.exports?require("jquery"):b)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(d);if(d.value==f.attr("placeholder")&&f.hasClass(m.customClass))if(f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c;f.focus()}else d.value="",f.removeClass(m.customClass),d==e()&&d.select()}function d(){var d,e=this,f=a(e),g=this.id;if(""===e.value){if("password"===e.type){if(!f.data("placeholder-textinput")){try{d=f.clone().attr({type:"text"})}catch(h){d=a("<input>").attr(a.extend(b(this),{type:"text"}))}d.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",c),f.data({"placeholder-textinput":d,"placeholder-id":g}).before(d)}f=f.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g).show()}f.addClass(m.customClass),f[0].value=f.attr("placeholder")}else f.removeClass(m.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!h,j="placeholder"in document.createElement("textarea")&&!h,k=a.valHooks,l=a.propHooks;if(i&&j)g=a.fn.placeholder=function(){return this},g.input=g.textarea=!0;else{var m={};g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};m=a.extend({},e,b);var f=this;return f.filter((i?"textarea":":input")+"[placeholder]").not("."+m.customClass).bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),f},g.input=i,g.textarea=j,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass(m.customClass)?"":b.value},set:function(b,f){var g=a(b),h=g.data("placeholder-password");return h?h[0].value=f:g.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):g.hasClass(m.customClass)?c.call(b,!0,f)||(b.value=f):b.value=f,g):b.value=f}},i||(k.input=f,l.value=f),j||(k.textarea=f,l.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+m.customClass,this).each(c);setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){a("."+m.customClass).each(function(){this.value=""})})}})},this.doPlaceholder=function(){var a=this,b=a.getProp("$"),c=b("#om-"+a.getProp("optin")+" input");c.length>0&&b.fn.placeholder&&c.each(function(){b(this).placeholder()}),a.trigger("OptinMonsterPlaceholderDone")},this.isIE=function(){var a=this.getProp("$");return!(a.support.cors||!a.ajaxTransport||!window.XDomainRequest)},this.getQueryParameters=function(a){return(a||document.location.search||document.location.hash).replace(/(^\?)|(^\#)/,"").split("&").map(function(a){return"undefined"!=typeof a?(a=a.split("="),this[a[0]]=a[1],this):void 0}.bind({}))[0]},this.globalHideArg=function(){var a=this.getQueryParameters();return"undefined"==typeof a?!1:void 0!==a.omhide?(this.addMessage("Global hide cookie: true"),!0):(this.addMessage("Global hide cookie: false"),!1)},this.websiteMatch=function(){var a=this.getProp("$"),b=this.getProp("site"),c=window.location.hostname,d=!1,e=!1,f=this;return this.addMessage("Current website: "+c),this.websiteWhitelisted()?(f.addMessage("Website whitelisted: true"),!0):(Array.isArray(b)||(b=[b]),a.each(b,function(a,b){if(b.hasOwnProperty("domain")){if(f.addMessage("Registered domain: "+b.domain),c.indexOf(b.domain)>-1)return f.addMessage("Website match: true"),e=!0,!1;d="[OptinMonster] The optin campaign requested does not have permission to load on this domain."}else f.addMessage("Website match: None registered"),d="[OptinMonster] No site has been specified for this optin campaign. The optin campaign has ceased loading."}),!1===e&&(this.addMessage("Website match: false"),this.log(d)),e)},this.websiteWhitelisted=function(){var a=this.getProp("$"),b=window.location.hostname,c=!1,d=[".dev",".local","local.","staging.","localhost","127.0.0.1"];return a.each(d,function(a,d){return b.indexOf(d)>-1?(c=!0,!1):void 0}),c},this.pageSlugMatch=function(){var a=this.getProp("page_slug"),b=this.getProp("page_match"),c=this.getProp("page_exclude"),d=window.location.pathname.substr(1);return this.addMessage("Current window page slug: "+d),this.addMessage("Page slug: "+a),this.addMessage("Exact match set: "+b),this.addMessage("Exclude page slug: "+c),b&&c?"/"==a?!d.length>0?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):a==d?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):c?"/"==a?!d.length>0?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):d.indexOf(a)>-1?(this.addMessage("Page slug matches: true"),this.log("[OptinMonster] The page slug has been set to be excluded. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: false"),!0):b?"/"==a?d.length>0?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not match the request URI exactly. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):a!==d?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not match the request URI exactly. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):"/"==a?d.length>0?(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not exist in the request URI. The optin campaign has ceased loading."),!1):(this.addMessage("Page slug matches: true"),!0):d.indexOf(a)>-1?!0:(this.addMessage("Page slug matches: false"),this.log("[OptinMonster] The page slug entered does not exist in the request URI. The optin campaign has ceased loading."),!1)},this.referrerMatch=function(){var a=this.getProp("$"),b=this.getProp("referrer_domain"),c=this.getProp("referrer_exclude"),d=b.split(","),e=document.referrer||!1,f=!1;return this.addMessage("Optin referrer: "+b),this.addMessage("Actual referrer: "+b),this.addMessage("Exclude referrer: "+c),e?(c?(f=!0,a.each(d,function(a,b){return e.indexOf(b)>-1?(f=!1,!1):void 0})):a.each(d,function(a,b){return e.indexOf(b)>-1?(f=!0,!1):void 0}),f&&!c?(this.addMessage("Referrer matches: true"),!0):f&&c?(this.addMessage("Referrer matches: true"),this.log("[OptinMonster] The referrer is allowed."),!0):(c?(this.addMessage("Referrer matches: true"),this.log("[OptinMonster] The page referrer matches the domain referrer, but it is set to be excluded. The optin campaign has ceased loading.")):(this.addMessage("Referrer matches: false"),this.log("[OptinMonster] The page referrer does not match the requested domain referrer. The optin campaign has ceased loading.")),!1)):(this.addMessage("Referrer matches: false"),this.log("[OptinMonster] No referrer was specified for this page. The optin campaign has ceased loading."),!1)},this.rulesMatch=function(){var a=this.getProp("$"),b=this,c=this.getProp("rules"),d=a.map(c,function(c){var d=a.map(c,function(a,c){var d="rule"+b.ucWord(a.key),e="operator"+b.ucWord(a.operator);return b[d](b[e],a.value)});return d.every(function(a,b,c){return a})});return a.inArray(!0,d)>-1},this.ruleSlug=function(a,b){var c=window.location.pathname.substr(1);return a(c,b)},this.operatorContains=function(a,b){return a.indexOf(b)>-1&&a.length>0},this.operatorNotContains=function(a,b){return-1===a.indexOf(b)&&a.length>0},this.campaignIsActive=function(){var a=this.getProp("campaign_status");return this.addMessage("Campaign status: "+a),"paused"==a?(this.log("[OptinMonster] This campaign has been paused."),!1):!0},this.socialServices=function(){{var a=this;a.getProp("$"),a.getProp("optin")}"undefined"!=typeof FB&&null!=FB&&FB.hasOwnProperty("XFBML")&&FB.XFBML.parse(),"undefined"!=typeof twttr&&null!=twttr&&twttr.hasOwnProperty("widgets")&&twttr.widgets.load(),a.trigger("OptinMonsterSocial")},this.getScrollPercentage=function(){var a=this.getProp("$"),b=a(window).scrollTop()||0,c=a(document).height(),d=a(window).height();return Math.round(b/(c-d)*100)},this.corsPatch=function(){var a=this.getProp("$");if(!a.support.cors&&a.ajaxTransport&&window.XDomainRequest){var b=/^(https?:)?\/\//i,c=/^get|post$/i,d=new RegExp("^(//|"+location.protocol+")","i");a.ajaxTransport("* text html xml json",function(e,f,g){if(e.crossDomain&&e.async&&c.test(e.type)&&b.test(e.url)&&d.test(e.url)){var h=null;return{send:function(b,c){var d="",g=(f.dataType||"").toLowerCase();h=new XDomainRequest,/^\d+$/.test(f.timeout)&&(h.timeout=f.timeout),h.ontimeout=function(){c(500,"timeout")},h.onload=function(){var b="Content-Length: "+h.responseText.length+"\r\nContent-Type: "+h.contentType,d={code:200,message:"success"},e={text:h.responseText};try{if("html"===g||/text\/html/i.test(h.contentType))e.html=h.responseText;else if("json"===g||"text"!==g&&/\/json/i.test(h.contentType))try{e.json=a.parseJSON(h.responseText)}catch(f){d.code=500,d.message="parseerror"}else if("xml"===g||"text"!==g&&/\/xml/i.test(h.contentType)){var i=new ActiveXObject("Microsoft.XMLDOM");i.async=!1;try{i.loadXML(h.responseText)}catch(f){i=void 0}if(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)throw d.code=500,d.message="parseerror","Invalid XML: "+h.responseText;e.xml=i}}catch(j){throw j}finally{c(d.code,d.message,e,b)}},h.onprogress=function(){},h.onerror=function(){c(500,"error",{text:h.responseText})},f.data&&(d="string"===a.type(f.data)?f.data:a.param(f.data)),h.open(e.type,e.url),h.send(d)},abort:function(){h&&h.abort()}}}}),this.setProp("$",a)}},this.setDefaults=function(){var a="https:"==document.location.protocol?"https://":"http://",b=this.getProp("staging")?"staging-api":"api";this.getProp("dev")?(this.setProp("api_optin",a+"app.optinmonster.dev/v1/optin/"),this.setProp("api_convert",a+"app.optinmonster.dev/v1/convert/")):(this.setProp("api_optin",a+b+".optnmnstr.com/v1/optin/"),this.setProp("api_convert",a+b+".optnmnstr.com/v1/convert/"))},this.addMessage=function(a,b){b?this.messages.unshift(a):this.messages.push(a)},this.displayDebugLog=function(){var a=this.getProp("$"),b=this.getProp("u"),c=this.getProp("campaign"),d=this.getProp("optin");console.group(d?"OptinMonster Debug Info: "+c+" ("+d+")":"OptinMonster Debug Info: "+b),a.each(this.messages,function(a,b){console.log(b)}),console.groupEnd(),this.messages.length=0},this.isPopup=function(a){var b=["lightbox","full-page-takeover","canvas","mobile"],c=this.getProp("$");return c.inArray(a,b)>-1||!1},this.ucWord=function(a){return a.charAt(0).toUpperCase()+a.substr(1)},this.registerVariables=function(){void 0!==window.OptinMonsterCustomVariables&&"function"==typeof OptinMonsterCustomVariables&&OptinMonsterCustomVariables(this)},this.setCustomVariable=function(a,b){OptinMonsterAppVariables[a]=b},this.getCustomVariable=function(a){return OptinMonsterAppVariables.hasOwnProperty(a)?OptinMonsterAppVariables[a]:!1},this.getCustomVariables=function(){return OptinMonsterAppVariables},this.hasCustomVariable=function(a){return OptinMonsterAppVariables.hasOwnProperty(a)},this.hasCustomVariables=function(){return!this.getProp("$").isEmptyObject(OptinMonsterAppVariables)},this.replaceCustomVariables=function(){var a=this,b=a.getProp("$"),c=b.trim(a.getProp("html")),d=c.match(/\{\{(.*?)\}\}/g);d&&(b.each(d,function(b,d){var e=d,f=d.replace("{{",""),f=f.replace("}}",""),f=f.split("|");if(!(!0 in f))if(a.getCustomVariable(f[0]))c=c.replace(e,a.getCustomVariable(f[0]));else{if("undefined"==typeof f[1])return void(c=c.replace(e,""));c=c.replace(e,f[1])}}),a.setProp("html",c))},this.deleteCustomVariable=function(a){delete OptinMonsterAppVariables[a]}}var OptinMonsterAppOptins={},OptinMonsterAppLinkSlugs={},OptinMonsterAppVariables={},om_loaded=!0;